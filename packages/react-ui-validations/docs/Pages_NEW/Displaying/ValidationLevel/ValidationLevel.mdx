import { Canvas } from '@storybook/blocks';
import * as DocsStories from './ValidationLevel.docs.stories.tsx';
import { Meta } from '../../../../.storybook/Meta';

<Meta of={DocsStories} />

# Уровни валидаций

Уровень валидации задаётся с помощью свойства `level` в объекте `validationInfo`

```jsx static
<ValidationWrapper validationInfo={{ level: '...', message: '...' }}>//...</ValidationWrapper>
```

Допустимые значения: `"error" | "warning"`.

Значение по умолчанию: `"error"`.

## Ошибка

```jsx static
<ValidationWrapper
  validationInfo={{
    message: 'Ошибка',
    level: 'error',
  }}
>
  //...
</ValidationWrapper>
```

### Пример

<Canvas of={DocsStories.ValidationError} />

```jsx static
import React, { useState } from 'react';
import { Input } from '@skbkontur/react-ui/components/Input';

import {
  ValidationContainer,
  ValidationWrapper,
  ValidationInfo,
  text,
} from '../../../../src';
import { Nullable } from '../../../../typings/Types';
import { Form } from '../../../Common/Form';

const validate = (value: string): Nullable<ValidationInfo> => {
  if (!/^\d*$/.test(value)) {
    return { message: 'Разрешены только цифры', type: 'lostfocus' };
  }

  return null;
};

export default function ValidationError() {
  const [value, setValue] = useState('');
  const v = validate(value);

  return (
    <ValidationContainer>
      <Form>
        <Form.Line title="error">
          <ValidationWrapper validationInfo={v} renderMessage={text()}>
            <Input
              width={250}
              placeholder={'Только цифры'}
              value={value}
              onValueChange={setValue}
            />
          </ValidationWrapper>
        </Form.Line>
      </Form>
    </ValidationContainer>
  );
}
```

## Предупреждение

```jsx static
<ValidationWrapper
  validationInfo={{
    message: 'Предупреждение',
    level: 'warning',
  }}
>
  //...
</ValidationWrapper>
```

### Пример

<Canvas of={DocsStories.ValidationWarning} />

```jsx static
import React, { useState } from 'react';
import { Input } from '@skbkontur/react-ui/components/Input';

import {
  ValidationContainer,
  ValidationWrapper,
  ValidationInfo,
  text,
} from '../../../../src';
import { Nullable } from '../../../../typings/Types';
import { Form } from '../../../Common/Form';

const validate = (value: string): Nullable<ValidationInfo> => {
  if (!/^\d*$/.test(value)) {
    return {
      message: 'Если возможно - используйте только цифры',
      level: 'warning',
      type: 'lostfocus',
    };
  }
  return null;
};

export default function ValidationWarning() {
  const [value, setValue] = useState('');
  const v = validate(value);

  return (
    <ValidationContainer>
      <Form>
        <Form.Line title="warning">
          <ValidationWrapper validationInfo={v} renderMessage={text()}>
            <Input
              width={250}
              placeholder={'Можно и буквы, но лучше цифры'}
              value={value}
              onValueChange={setValue}
            />
          </ValidationWrapper>
        </Form.Line>
      </Form>
    </ValidationContainer>
  );
}
```
